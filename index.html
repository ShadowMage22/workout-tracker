<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#222222" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="./icon-192.png" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./styles.css" />
  <title>3-Day Beginner Strength Training</title>
</head>
<body>

<div class="install-prompt" id="installPrompt">
  <button class="close-install" onclick="hideInstallPrompt()">&times;</button>
  <div class="install-text">
    <span>Install this app for easy access. The Install button works in browsers that support the install prompt.</span>
    <span class="ios-install-hint" id="iosInstallHint" hidden>On iOS Safari: tap Share → Add to Home Screen.</span>
  </div>
  <button id="installButton" onclick="installApp()">Install</button>
</div>

<div class="status-banner info" id="statusBanner" role="status" aria-live="polite"></div>
<div class="status-banner warning" id="readOnlyBanner" role="status" aria-live="polite"></div>
<div class="status-banner warning" id="offlineBanner" role="status" aria-live="polite">You’re offline. Changes will sync when the connection returns.</div>
<div class="rest-timer-banner" id="restTimerBanner" role="status" aria-live="polite" aria-hidden="true">
  <div class="rest-timer-banner__content">
    <span class="rest-timer-banner__label">Rest Timer</span>
    <span class="rest-timer-banner__status" id="restTimerBannerStatus">Ready</span>
  </div>
  <div class="rest-timer-banner__time" id="restTimerBannerTime">01:00</div>
  <button class="ghost-button rest-timer-banner__dismiss" type="button" id="dismissRestBanner">Dismiss</button>
  <button class="ghost-button rest-timer-banner__stop" type="button" id="stopRestBanner">Stop</button>
</div>
<div class="section-timer-banner" id="sectionTimerBanner" role="status" aria-live="polite" aria-hidden="true">
  <div class="section-timer-banner__content">
    <span class="section-timer-banner__label" id="sectionTimerBannerLabel">Section Timer</span>
    <span class="section-timer-banner__status" id="sectionTimerBannerStatus">Ready</span>
  </div>
  <div class="section-timer-banner__time" id="sectionTimerBannerTime">00:00</div>
  <button class="ghost-button section-timer-banner__dismiss" type="button" id="dismissSectionBanner">Dismiss</button>
  <button class="ghost-button section-timer-banner__stop" type="button" id="stopSectionBanner">Stop</button>
</div>

<div id="svgOverlay" class="overlay" onclick="closeOverlay()">
  <div class="close" role="button" tabindex="0" aria-label="Close overlay">&times;</div>
  <div id="overlayContent"></div>
</div>

<main class="app-shell">
  <h1>3-Day Beginner Strength Training</h1>
  <p class="page-subtitle">Each workout ≈ 45 minutes: 5–7 min warm-up, 30–32 min strength + core, 5–6 min cooldown.</p>
  <p class="page-meta">v2.5 — Updated February 2026</p>
  <div class="sync-status" id="syncStatus" role="status" aria-live="polite">Online • All changes saved</div>
  <div class="app-controls">
    <button class="ghost-button" type="button" onclick="resetApp()">Reset App / End Session</button>
    <button class="ghost-button" type="button" onclick="resetApp({ clearHistory: true })">Full Reset (Deletes History)</button>
    <p class="app-controls__note">Cache reset fixes offline issues; history is preserved unless you choose to delete it.</p>
  </div>

  <div class="tabs">
    <button type="button" class="tab active" data-day="push">Push</button>
    <button type="button" class="tab" data-day="pull">Pull</button>
    <button type="button" class="tab" data-day="legs">Legs</button>
    <button type="button" class="tab" data-day="history">History</button>
  </div>

  <template id="restTimerTemplate">
    <section class="rest-timer" aria-live="polite">
      <div class="rest-header">
        <h2>Rest Timer</h2>
        <span class="rest-pill" id="restPill">Ready</span>
      </div>
      <p class="rest-status" id="restStatus">Check off an exercise to start a rest timer, or start one manually.</p>
      <div class="rest-controls">
        <label for="restDuration">Duration</label>
        <select id="restDuration">
          <option value="30">0:30</option>
          <option value="60" selected>1:00</option>
          <option value="90">1:30</option>
          <option value="120">2:00</option>
          <option value="180">3:00</option>
        </select>
        <div class="rest-time" id="restTimeDisplay">01:00</div>
      </div>
      <div class="rest-preferences">
        <label class="rest-toggle">
          <input type="checkbox" id="restSoundToggle" />
          Sound when complete
        </label>
        <label class="rest-toggle" id="restVibrateToggleWrap">
          <input type="checkbox" id="restVibrateToggle" />
          Vibrate on mobile
        </label>
      </div>
      <div class="rest-actions">
        <button class="primary-button" type="button" id="startRestTimer">Start Rest</button>
        <button class="ghost-button" type="button" id="stopRestTimer" disabled>Stop</button>
        <button class="ghost-button" type="button" id="enableRestNotifications">Enable notifications</button>
      </div>
    </section>
  </template>

  <template id="workoutStopwatchTemplate">
    <section class="workout-stopwatch" aria-live="polite">
      <div class="workout-stopwatch__header">
        <h2>Workout Stopwatch</h2>
        <span class="workout-stopwatch__pill" data-state="paused">Paused</span>
      </div>
      <div class="workout-stopwatch__body">
        <div class="workout-stopwatch__time" id="stopwatchDisplay">00:00</div>
        <div class="workout-stopwatch__actions">
          <button class="primary-button" type="button" id="toggleStopwatch">Start</button>
          <button class="ghost-button" type="button" id="resetStopwatch">Reset</button>
        </div>
      </div>
    </section>
  </template>

  <div class="day card active" id="push">
    <div class="day-skeleton skeleton" aria-hidden="true">
      <div class="skeleton-bar wide"></div>
      <div class="skeleton-bar"></div>
      <div class="skeleton-bar medium"></div>
      <div class="skeleton-bar short"></div>
    </div>
  </div>

  <div class="day card" id="pull">
    <div class="day-skeleton skeleton" aria-hidden="true">
      <div class="skeleton-bar wide"></div>
      <div class="skeleton-bar"></div>
      <div class="skeleton-bar medium"></div>
      <div class="skeleton-bar short"></div>
    </div>
  </div>

  <div class="day card" id="legs">
    <div class="day-skeleton skeleton" aria-hidden="true">
      <div class="skeleton-bar wide"></div>
      <div class="skeleton-bar"></div>
      <div class="skeleton-bar medium"></div>
      <div class="skeleton-bar short"></div>
    </div>
  </div>

  <div class="day card" id="history">
    <div class="day-skeleton skeleton" aria-hidden="true">
      <div class="skeleton-bar wide"></div>
      <div class="skeleton-bar"></div>
      <div class="skeleton-bar medium"></div>
    </div>
    <section class="history-panel" aria-live="polite">
      <div class="history-header">
        <h2>History & Progress</h2>
        <label for="historyDayFilter">Day</label>
        <select id="historyDayFilter">
          <option value="push">Push</option>
          <option value="pull">Pull</option>
          <option value="legs">Legs</option>
        </select>
      </div>
      <p class="history-subtitle">Log your sets after each workout to see daily progress over time.</p>
      <div class="history-list" id="historyList"></div>
    </section>
  </div>
</main>

<script src="./js/state-manager.js" defer></script>
<script src="./js/ui-controller.js" defer></script>
<script src="./js/media.js" defer></script>
<script src="./js/timers.js" defer></script>
<script src="./js/history.js" defer></script>
<script src="./js/set-tracking.js" defer></script>
<script src="./app.js" defer></script>

</body>
</html>
